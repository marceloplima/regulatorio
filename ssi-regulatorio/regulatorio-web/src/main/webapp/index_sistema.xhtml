<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="template/padrao.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.w3.org/1999/xhtml http://www.w3.org/2002/08/xhtml/xhtml1-transitional.xsd"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="conteudosistema">

		<rich:panel id="ssiinicial">
			<h:form id="demandasForm">
				<rich:dataTable keepSaved="true" rows="20" id="tabela"
					value="#{indexBean.minhasDemandas}" var="demanda">
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.numero']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.autor']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.encarregado']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.solicitante']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.status']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.data.cadastro']}" />
							</rich:column>

							<rich:column style="text-align:left;">
								<h:outputText value="#{msg['header.prazo']}" />
							</rich:column>
						</rich:columnGroup>
					</f:facet>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.numeroDemanda}" />
						<h:outputText value="#{msg['label.semNumero']}"
							rendered="#{demanda.numeroDemanda eq null}" />
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.autor.cnmnome}" />
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.encarregado.cnmnome}" />
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.solicitante.cnmnome}" />
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.status.descricao}" />
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.dataHoraDemanda}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
						</h:outputText>
					</rich:column>

					<rich:column style="text-align:left;">
						<h:outputText value="#{demanda.prazo}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</rich:column>

					<rich:column style="text-align:right;">
						<h:commandLink action="#{indexBean.consultaDemanda()}">
							<f:setPropertyActionListener target="#{indexBean.idDemanda}"
								value="#{demanda.id}" />
							<h:graphicImage value="imagens/busca_azul.png" />
						</h:commandLink>
					</rich:column>

					<f:facet name="footer">
						<rich:dataScroller for="tabela" maxPages="30" />
					</f:facet>

				</rich:dataTable>
			</h:form>
		</rich:panel>

		<rich:panel id="noticiasredes">
			<rich:dataTable keepSaved="true" rows="3" id="dtresbuscanoticias"
				value="#{buscarNoticiasMB.noticias}" var="obj">
				<f:facet name="header">
					<rich:columnGroup>
						<rich:column style="text-align:left;width:100px">
							<h:outputText value="Título" />
						</rich:column>
						<rich:column style="text-align:left;">
							<h:outputText value="Noticia" />
						</rich:column>
					</rich:columnGroup>
				</f:facet>
				<rich:column style="text-align:left;">
					<h:outputText value="#{obj.cnmtitulo}" />
				</rich:column>
				<rich:column style="text-align:left;">
					<h:outputText value="#{obj.cnmnoticia}" />
				</rich:column>
				<f:facet name="footer">
					<rich:dataScroller id="scrollermodfuncbottom" />
				</f:facet>
			</rich:dataTable>
		</rich:panel>
	</ui:define>
</ui:composition>